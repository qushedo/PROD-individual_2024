
# Travel Agent 3.0 üåç

–ü—É—Ç–µ—à–µ—Å—Ç–≤—É–π—Ç–µ —Å –¥—Ä—É–∑—å—è–º–∏, –Ω–∞–π–¥–∏—Ç–µ –ø–æ–ø—É—Ç—á–∏–∫–æ–≤, –≤–µ–¥–∏—Ç–µ –∑–∞–º–µ—Ç–∫–∏, –ø–ª–∞–Ω–∏—Ä—É–π—Ç–µ –º–∞—Ä—à—Ä—É—Ç, —É–∑–Ω–∞–≤–∞–π—Ç–µ –ø–æ–≥–æ–¥—É, –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ –Ω–æ–≤—ã–µ
–º–µ—Å—Ç–∞ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è!

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ üíª

–°–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º —à–∞–≥–∞–º, —á—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç:

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
    ```
    git clone https://github.com/qushedo/PROD-individual_2024.git
    ```
2. **–ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞**
    ```
    cd PROD-individual_2024
    ```
3. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ–∫–µ–Ω–∞ telegram –±–æ—Ç–∞ –≤ .env**
    ```
    cd /bot
    TOKEN="token"
    ```   
4. **–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ docker-compose**
    ```
    cd ..\
    docker-compose up --build
    ```
5. **–í –¥–∞–ª—å–Ω–µ–π—à–µ–º –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —á–µ—Ä–µ–∑**
    ```
    docker-compose up
    ```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ üïπÔ∏è

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω —Ç–∞–∫, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–ø–∞—Å—Ç—å –∏–∑ –ª—é–±–æ–π —Ç–æ—á–∫–∏ –º–µ–Ω—é –≤ –ª—é–±—É—é –¥—Ä—É–≥—É—é —Ç–æ—á–∫—É –º–µ–Ω—é. –õ—é–±–æ–π —Å–º–æ–∂–µ—Ç
–∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –Ω—ë–º.

### –í–∞–∂–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

1. **–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞**
    ```
    /start
    ```
2. **–û—Ç–º–µ–Ω–∞ —Ç–µ–∫—É—â–µ–≥–æ –≤–≤–æ–¥–∞**
    ```
    /cancel
    ```

## [–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è](https://youtu.be/Jr1awp513ok) üé•

## –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ üîó

### Nominatim

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∞–¥—Ä–µ—Å–∞ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç. –í—ã–±–æ—Ä –æ–±—É—Å–ª–æ–≤–ª–µ–Ω —Ç–µ–º, —á—Ç–æ –¥–∞–Ω–Ω–æ–µ API –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏ —è–≤–ª—è–µ—Ç—Å—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º.

### Graphopper

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ get –∑–∞–ø—Ä–æ—Å
–Ω–∞ https://graphhopper.com/maps/. –ü–æ–ª—É—á–µ–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ telegram WebApp. –í—ã–±–æ—Ä WebApp –æ–±—É—Å–ª–æ–≤–ª–µ–Ω —É–¥–æ–±—Å—Ç–≤–æ–º
–ø–æ–¥–æ–±–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –ú–∞—Ä—à—Ä—É—Ç—ã —Å—Ç—Ä–æ—è—Ç—Å—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –∏ —è–≤–ª—è—é—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏.

### OpenTripMap

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è—Ö. –ê–±—Å–æ–ª—é—Ç–Ω–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ api –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–µ OpenStreetMap.
–í—ã–±–æ—Ä –æ–±—É—Å–ª–æ–≤–ª–µ–Ω —Ç–µ–º, —á—Ç–æ –¥–∞–Ω–Ω–æ–µ API –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏ —è–≤–ª—è–µ—Ç—Å—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º.

### YandexTravels

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–∏–ª–µ—Ç–∞—Ö –Ω–∞ –ø–æ–µ–∑–¥–∞ –∏ –∞–≤—Ç–æ–±—É—Å—ã. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ get –∑–∞–ø—Ä–æ—Å
–Ω–∞ https://travel.yandex.ru/. –ü–æ–ª—É—á–µ–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ telegram WebApp. –í—ã–±–æ—Ä –æ–±—É—Å–ª–æ–≤–ª–µ–Ω —É–¥–æ–±—Å—Ç–≤–æ–º
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –∞ —Ç–∞–∫ –∂–µ —Ç–µ–º, —á—Ç–æ —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ.

### TinkoffTravel

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–∏–ª–µ—Ç–∞—Ö –Ω–∞ —Å–∞–º–æ–ª–µ—Ç—ã. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ get –∑–∞–ø—Ä–æ—Å
–Ω–∞ https://www.tinkoff.ru/travel/flights/one-way/. –ü–æ–ª—É—á–µ–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ telegram WebApp. –í—ã–±–æ—Ä –æ–±—É—Å–ª–æ–≤–ª–µ–Ω
—É–¥–æ–±—Å—Ç–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –∞ —Ç–∞–∫ –∂–µ —Ç–µ–º, —á—Ç–æ —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ.

### YandexRestaurants

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞—Ö –≤ –ª–æ–∫–∞—Ü–∏–∏. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ get –∑–∞–ø—Ä–æ—Å
–Ω–∞ https://yandex.ru/maps/213/moscow/search/{–ì–æ—Ä–æ–¥},—Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã/. –ü–æ–ª—É—á–µ–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ telegram WebApp. –í—ã–±–æ—Ä
–æ–±—É—Å–ª–æ–≤–ª–µ–Ω —É–¥–æ–±—Å—Ç–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –∞ —Ç–∞–∫ –∂–µ —Ç–µ–º, —á—Ç–æ —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ.

### HotelLook

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—Ç–µ–ª—è—Ö. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ get –∑–∞–ø—Ä–æ—Å –Ω–∞ https://search.hotellook.com/hotels.
–ü–æ–ª—É—á–µ–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ telegram WebApp. –í—ã–±–æ—Ä –æ–±—É—Å–ª–æ–≤–ª–µ–Ω —É–¥–æ–±—Å—Ç–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –∞ —Ç–∞–∫ –∂–µ —Ç–µ–º, —á—Ç–æ —ç—Ç–æ
—Ä–µ—à–µ–Ω–∏–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ.

### –ü–æ—á–µ–º—É –±—ã–ª –≤—ã–±—Ä–∞–Ω Postgres

1. **–°–≤–æ–±–æ–¥–Ω—ã–π –¥–æ—Å—Ç—É–ø**: Postgres - —ç—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º.
2. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö**: Postgres –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö, –≤–∫–ª—é—á–∞—è
   —Å–µ—Ç–µ–≤—ã–µ –∞–¥—Ä–µ—Å–∞, –¥–∞–Ω–Ω—ã–µ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ JSON –∏ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≥–µ–æ–ø–æ–∑–∏—Ü–∏–π.
3. **–†–∞–±–æ—Ç–∞ —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö**: Postgres —Å–ø–æ—Å–æ–±–µ–Ω —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.
4. **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º ACID**: Postgres —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º ACID (Atomicity, Consistency, Isolation,
   Durability), —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.
5. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö**: Postgres –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö
   –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö.

### –ü–æ—á–µ–º—É –±—ã–ª –≤—ã–±—Ä–∞–Ω Gorm

Gorm –±—ã–ª –≤—ã–±—Ä–∞–Ω –∫–∞–∫ —É–¥–æ–±–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –í—ã–±–æ—Ä Gorm –æ–±—É—Å–ª–æ–≤–ª–µ–Ω –ø—Ä–æ—Å—Ç–æ—Ç–æ–π
–Ω–∞–ø–∏—Å–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤, —á—Ç–æ –ø–æ–º–æ–≥–ª–æ —É—Å–∫–æ—Ä–∏—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É.

### –ü–æ—á–µ–º—É –±—ã–ª –≤—ã–±—Ä–∞–Ω —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ tuncnak/telebot

–í—ã–±–æ—Ä –¥–∞–Ω–Ω–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –æ–±—É—Å–ª–æ–≤–ª–µ–Ω —Ç–µ–º, —á—Ç–æ —ç—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è golang, –æ–±–ª–∞–¥–∞—é—â–∏–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º
—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å telegram bot api.

## –°—Ö–µ–º–∞ —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–æ—Ç–∞, –±—ã–ª —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–µ—Ä–µ–∑ draw.io. –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–Ω–µ—á–Ω–æ–≥–æ
—Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞ —Å—Ç—Ä–æ–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–µ–Ω. –í–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –±—ã–ª–∏ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ–Ω—ã.
–°—Ö–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞, —Ñ–∞–π–ª `bot_scheme.drawio`.

## –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

![database.svg](database.svg)

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ë—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —É–¥–æ–±–Ω—ã–π —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞ —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç. –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –Ω–µ
—Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –≤–ª–æ–∂–µ–Ω–∏–π –Ω–∞ –∏—Ö –ø–æ–¥–¥–µ—Ä–∂–∫—É, —ç—Ç–∞ —Ü–µ–ª—å –∏ –ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞–ª–∞—Å—å –º–Ω–æ–π –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.
